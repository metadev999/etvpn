/**
 * panascais / website
 *
 * Copyright Â© 2013-2024 Panascais ehf. and / or subsidiaries. All rights reserved.
 *
 * All information contained herein is, and remains the property
 * of Panascais ehf. and its suppliers, if any.
 * The intellectual and technical concepts contained herein are
 * proprietary to Panascais ehf. and its suppliers and may
 * be covered by European, U.S. and foreign patents, patents in process,
 * and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Panascais ehf.
 *
 * License:
 *
 * You are not allowed to copy, modify, merge, publish, distribute,
 * sublicense, and / or sell copies of the software.
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the software.
 */
!function(){function t(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t=function(){return r};var e,r={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",p=s.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(e){c=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var o=e&&e.prototype instanceof m?e:m,s=Object.create(o.prototype),a=new C(n||[]);return i(s,"_invoke",{value:M(t,r,a)}),s}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}r.wrap=h;var l="suspendedStart",v="suspendedYield",y="executing",d="completed",b={};function m(){}function g(){}function w(){}var x={};c(x,a,(function(){return this}));var E=Object.getPrototypeOf,_=E&&E(E(S([])));_&&_!==n&&o.call(_,a)&&(x=_);var O=w.prototype=m.prototype=Object.create(x);function T(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(n,i,s,a){var u=f(t[n],t,i);if("throw"!==u.type){var p=u.arg,c=p.value;return c&&"object"==k(c)&&o.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,s,a)}),(function(t){r("throw",t,s,a)})):e.resolve(c).then((function(t){p.value=t,s(p)}),(function(t){return r("throw",t,s,a)}))}a(u.arg)}var n;i(this,"_invoke",{value:function(t,o){function i(){return new e((function(e,n){r(t,o,e,n)}))}return n=n?n.then(i,i):i()}})}function M(t,r,n){var o=l;return function(i,s){if(o===y)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw s;return{value:e,done:!0}}for(n.method=i,n.arg=s;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===b)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===l)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var p=f(t,r,n);if("normal"===p.type){if(o=n.done?d:v,p.arg===b)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=d,n.method="throw",n.arg=p.arg)}}}function j(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=f(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var s=i.arg;return s?s.done?(r[t.resultName]=s.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):s:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function S(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(k(t)+" is not iterable")}return g.prototype=w,i(O,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:g,configurable:!0}),g.displayName=c(w,p,"GeneratorFunction"),r.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,c(t,p,"GeneratorFunction")),t.prototype=Object.create(O),t},r.awrap=function(t){return{__await:t}},T(A.prototype),c(A.prototype,u,(function(){return this})),r.AsyncIterator=A,r.async=function(t,e,n,o,i){void 0===i&&(i=Promise);var s=new A(h(t,e,n,o),i);return r.isGeneratorFunction(e)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},T(O),c(O,p,"Generator"),c(O,a,(function(){return this})),c(O,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return a.type="throw",a.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var u=o.call(s,"catchLoc"),p=o.call(s,"finallyLoc");if(u&&p){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!p)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:S(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),b}},r}function e(t,e,r,n,o,i,s){try{var a=t[i](s),u=a.value}catch(p){return void r(p)}a.done?e(u):Promise.resolve(u).then(n,o)}function r(t){return function(){var r=this,n=arguments;return new Promise((function(o,i){var s=t.apply(r,n);function a(t){e(s,o,i,a,u,"next",t)}function u(t){e(s,o,i,a,u,"throw",t)}a(void 0)}))}}function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function i(t,e,r){return(e=l(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||p(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,s,a=[],u=!0,p=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==e);u=!0);}catch(t){p=!0,o=t}finally{try{if(!u&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(p)throw o}}return a}}(t,e)||p(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=p(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){a=!0,i=t},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw i}}}}function p(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function f(t,e,r){return e&&h(t.prototype,e),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(t){var e=function(t,e){if("object"!=k(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==k(e)?e:String(e)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e,r){return e=x(e),function(t,e){if(e&&("object"===k(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return d(t)}(t,g()?Reflect.construct(e,r||[],x(t).constructor):e.apply(t,r))}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}function m(t){var e="function"==typeof Map?new Map:void 0;return m=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return function(t,e,r){if(g())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var o=new(t.bind.apply(t,n));return r&&w(o,r.prototype),o}(t,arguments,x(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),w(r,t)},m(t)}function g(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(g=function(){return!!t})()}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}System.register(["./3d-graphics-legacy-4d13fed7.js"],(function(e,n){"use strict";return{setters:[function(t){t.c}],execute:function(){var n,p={exports:{}},c="object"===("undefined"==typeof Reflect?"undefined":k(Reflect))?Reflect:null,h=c&&"function"==typeof c.apply?c.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};n=c&&"function"==typeof c.ownKeys?c.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var l=Number.isNaN||function(t){return t!=t};function g(){g.init.call(this)}p.exports=g,p.exports.once=function(t,e){return new Promise((function(r,n){function o(r){t.removeListener(e,i),n(r)}function i(){"function"==typeof t.removeListener&&t.removeListener("error",o),r([].slice.call(arguments))}L(t,e,i,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&L(t,"error",e,r)}(t,o,{once:!0})}))},g.EventEmitter=g,g.prototype._events=void 0,g.prototype._eventsCount=0,g.prototype._maxListeners=void 0;var w=10;function x(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+k(t))}function E(t){return void 0===t._maxListeners?g.defaultMaxListeners:t._maxListeners}function _(t,e,r,n){var o,i,s,a;if(x(r),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events),s=i[e]),void 0===s)s=i[e]=r,++t._eventsCount;else if("function"==typeof s?s=i[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(o=E(t))>0&&s.length>o&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return t}function O(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function T(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},o=O.bind(n);return o.listener=r,n.wrapFn=o,o}function A(t,e,r){var n=t._events;if(void 0===n)return[];var o=n[e];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(o):j(o,o.length)}function M(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function j(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function L(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+k(t));t.addEventListener(e,(function o(i){n.once&&t.removeEventListener(e,o),r(i)}))}}Object.defineProperty(g,"defaultMaxListeners",{enumerable:!0,get:function(){return w},set:function(t){if("number"!=typeof t||t<0||l(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");w=t}}),g.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},g.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||l(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},g.prototype.getMaxListeners=function(){return E(this)},g.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var i;if(e.length>0&&(i=e[0]),i instanceof Error)throw i;var s=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw s.context=i,s}var a=o[t];if(void 0===a)return!1;if("function"==typeof a)h(a,this,e);else{var u=a.length,p=j(a,u);for(r=0;r<u;++r)h(p[r],this,e)}return!0},g.prototype.addListener=function(t,e){return _(this,t,e,!1)},g.prototype.on=g.prototype.addListener,g.prototype.prependListener=function(t,e){return _(this,t,e,!0)},g.prototype.once=function(t,e){return x(e),this.on(t,T(this,t,e)),this},g.prototype.prependOnceListener=function(t,e){return x(e),this.prependListener(t,T(this,t,e)),this},g.prototype.removeListener=function(t,e){var r,n,o,i,s;if(x(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===e||r[i].listener===e){s=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,o),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,s||e)}return this},g.prototype.off=g.prototype.removeListener,g.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},g.prototype.listeners=function(t){return A(this,t,!0)},g.prototype.rawListeners=function(t){return A(this,t,!1)},g.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):M.call(t,e)},g.prototype.listenerCount=M,g.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};e("e",p.exports);var P={exports:{}};!function(t){!function(e,r,n){if(e){for(var o,i={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},s={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},a={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},u={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p=1;p<20;++p)i[111+p]="f"+p;for(p=0;p<=9;++p)i[p+96]=p.toString();d.prototype.bind=function(t,e,r){var n=this;return t=t instanceof Array?t:[t],n._bindMultiple.call(n,t,e,r),n},d.prototype.unbind=function(t,e){return this.bind.call(this,t,(function(){}),e)},d.prototype.trigger=function(t,e){var r=this;return r._directMap[t+":"+e]&&r._directMap[t+":"+e]({},t),r},d.prototype.reset=function(){var t=this;return t._callbacks={},t._directMap={},t},d.prototype.stopCallback=function(t,e){if((" "+e.className+" ").indexOf(" mousetrap ")>-1)return!1;if(y(e,this.target))return!1;if("composedPath"in t&&"function"==typeof t.composedPath){var r=t.composedPath()[0];r!==t.target&&(e=r)}return"INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable},d.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},d.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);o=null},d.init=function(){var t=d(r);for(var e in t)"_"!==e.charAt(0)&&(d[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},d.init(),e.Mousetrap=d,t.exports&&(t.exports=d)}function c(t,e,r){t.addEventListener?t.addEventListener(e,r,!1):t.attachEvent("on"+e,r)}function h(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return i[t.which]?i[t.which]:s[t.which]?s[t.which]:String.fromCharCode(t.which).toLowerCase()}function f(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function l(t,e,r){return r||(r=function(){if(!o)for(var t in o={},i)t>95&&t<112||i.hasOwnProperty(t)&&(o[i[t]]=t);return o}()[t]?"keydown":"keypress"),"keypress"==r&&e.length&&(r="keydown"),r}function v(t,e){var r,n,o,i=[];for(r=function(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus")).split("+")}(t),o=0;o<r.length;++o)n=r[o],u[n]&&(n=u[n]),e&&"keypress"!=e&&a[n]&&(n=a[n],i.push("shift")),f(n)&&i.push(n);return{key:n,modifiers:i,action:e=l(n,i,e)}}function y(t,e){return null!==t&&t!==r&&(t===e||y(t.parentNode,e))}function d(t){var e=this;if(t=t||r,!(e instanceof d))return new d(t);e.target=t,e._callbacks={},e._directMap={};var n,o={},i=!1,s=!1,a=!1;function u(t){t=t||{};var e,r=!1;for(e in o)t[e]?r=!0:o[e]=0;r||(a=!1)}function p(t,r,n,i,s,a){var u,p,c,h,l=[],v=n.type;if(!e._callbacks[t])return[];for("keyup"==v&&f(t)&&(r=[t]),u=0;u<e._callbacks[t].length;++u)if(p=e._callbacks[t][u],(i||!p.seq||o[p.seq]==p.level)&&v==p.action&&("keypress"==v&&!n.metaKey&&!n.ctrlKey||(c=r,h=p.modifiers,c.sort().join(",")===h.sort().join(",")))){var y=!i&&p.combo==s,d=i&&p.seq==i&&p.level==a;(y||d)&&e._callbacks[t].splice(u,1),l.push(p)}return l}function l(t,r,n,o){e.stopCallback(r,r.target||r.srcElement,n,o)||!1===t(r,n)&&(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}(r),function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}(r))}function y(t){"number"!=typeof t.which&&(t.which=t.keyCode);var r=h(t);r&&("keyup"!=t.type||i!==r?e.handleKey(r,function(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}(t),t):i=!1)}function b(t,e,r,s){function p(e){return function(){a=e,++o[t],clearTimeout(n),n=setTimeout(u,1e3)}}function c(e){l(r,e,t),"keyup"!==s&&(i=h(e)),setTimeout(u,10)}o[t]=0;for(var f=0;f<e.length;++f){var y=f+1===e.length?c:p(s||v(e[f+1]).action);m(e[f],y,s,t,f)}}function m(t,r,n,o,i){e._directMap[t+":"+n]=r;var s,a=(t=t.replace(/\s+/g," ")).split(" ");a.length>1?b(t,a,r,n):(s=v(t,n),e._callbacks[s.key]=e._callbacks[s.key]||[],p(s.key,s.modifiers,{type:s.action},o,t,i),e._callbacks[s.key][o?"unshift":"push"]({callback:r,modifiers:s.modifiers,action:s.action,seq:o,level:i,combo:t}))}e._handleKey=function(t,e,r){var n,o=p(t,e,r),i={},c=0,h=!1;for(n=0;n<o.length;++n)o[n].seq&&(c=Math.max(c,o[n].level));for(n=0;n<o.length;++n)if(o[n].seq){if(o[n].level!=c)continue;h=!0,i[o[n].seq]=1,l(o[n].callback,r,o[n].combo,o[n].seq)}else h||l(o[n].callback,r,o[n].combo);var v="keypress"==r.type&&s;r.type!=a||f(t)||v||u(i),s=h&&"keydown"==r.type},e._bindMultiple=function(t,e,r){for(var n=0;n<t.length;++n)m(t[n],e,r)},c(t,"keypress",y),c(t,"keydown",y),c(t,"keyup",y)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)}(P);e("m",P.exports);var C={exports:{}};/*! js-cookie v3.0.5 | MIT */!function(t,e){t.exports=function(){function t(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function e(r,n){function o(e,o,i){if("undefined"!=typeof document){"number"==typeof(i=t({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var a in i)i[a]&&(s+="; "+a,!0!==i[a]&&(s+="="+i[a].split(";")[0]));return document.cookie=e+"="+r.write(o,e)+s}}function i(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var e=document.cookie?document.cookie.split("; "):[],n={},o=0;o<e.length;o++){var i=e[o].split("="),s=i.slice(1).join("=");try{var a=decodeURIComponent(i[0]);if(n[a]=r.read(s,a),t===a)break}catch(u){}}return t?n[t]:n}}return Object.create({set:o,get:i,remove:function(e,r){o(e,"",t({},r,{expires:-1}))},withAttributes:function(r){return e(this.converter,t({},this.attributes,r))},withConverter:function(r){return e(t({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(r)}})}return e({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}()}(C);e("j",C.exports);var S,R,N,I,q=function(t){function e(t,r,n){var o;v(this,e);var i=t.status||0===t.status?t.status:"",s=t.statusText||"",a="".concat(i," ").concat(s).trim(),u=a?"status code ".concat(a):"an unknown error";return o=y(this,e,["Request failed with ".concat(u)]),Object.defineProperty(d(o),"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(d(o),"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(d(o),"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),o.name="HTTPError",o.response=t,o.request=r,o.options=n,o}return b(e,t),f(e)}(m(Error)),F=function(t){function e(t){var r;return v(this,e),r=y(this,e,["Request timed out"]),Object.defineProperty(d(r),"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.name="TimeoutError",r.request=t,r}return b(e,t),f(e)}(m(Error)),U=function(t){return null!==t&&"object"===k(t)},D=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=0,o=e;n<o.length;n++){var i=o[n];if((!U(i)||Array.isArray(i))&&void 0!==i)throw new TypeError("The `options` argument must be an object")}return K.apply(void 0,[{}].concat(e))},B=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new globalThis.Headers(e),o=r instanceof globalThis.Headers,i=u(new globalThis.Headers(r).entries());try{for(i.s();!(t=i.n()).done;){var s=a(t.value,2),p=s[0],c=s[1];o&&"undefined"===c||void 0===c?n.delete(p):n.set(p,c)}}catch(h){i.e(h)}finally{i.f()}return n},K=function t(){for(var e={},r={},n=arguments.length,u=new Array(n),p=0;p<n;p++)u[p]=arguments[p];for(var c=0,h=u;c<h.length;c++){var f=h[c];if(Array.isArray(f))Array.isArray(e)||(e=[]),e=[].concat(s(e),s(f));else if(U(f)){for(var l=0,v=Object.entries(f);l<v.length;l++){var y=a(v[l],2),d=y[0],b=y[1];U(b)&&d in e&&(b=t(e[d],b)),e=o(o({},e),{},i({},d,b))}U(f.headers)&&(r=B(r,f.headers),e.headers=r)}}return e},G=(S=!1,R=!1,N="function"==typeof globalThis.ReadableStream,I="function"==typeof globalThis.Request,N&&I&&(R=new globalThis.Request("https://a.com",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type")),S&&!R),V="function"==typeof globalThis.AbortController,H="function"==typeof globalThis.ReadableStream,J="function"==typeof globalThis.FormData,$=["get","post","put","patch","head","delete"],Y={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},W=2147483647,z=Symbol("stop"),X=function(t){return $.includes(t)?t.toUpperCase():t},Q=[413,429,503],Z={limit:2,methods:["get","put","head","delete","options","trace"],statusCodes:[408,413,429,500,502,503,504],afterStatusCodes:Q,maxRetryAfter:Number.POSITIVE_INFINITY,backoffLimit:Number.POSITIVE_INFINITY},tt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("number"==typeof t)return o(o({},Z),{},{limit:t});if(t.methods&&!Array.isArray(t.methods))throw new Error("retry.methods must be an array");if(t.statusCodes&&!Array.isArray(t.statusCodes))throw new Error("retry.statusCodes must be an array");return o(o(o({},Z),t),{},{afterStatusCodes:Q})};function et(t,e,r){return rt.apply(this,arguments)}function rt(){return(rt=r(t().mark((function e(r,n,o){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,e){var i=setTimeout((function(){n&&n.abort(),e(new F(r))}),o.timeout);o.fetch(r).then(t).catch(e).then((function(){clearTimeout(i)}))})));case 1:case"end":return t.stop()}}),e)})))).apply(this,arguments)}var nt=Boolean(globalThis.DOMException);function ot(t){var e,r;if(nt)return new DOMException(null!==(r=null==t?void 0:t.reason)&&void 0!==r?r:"The operation was aborted.","AbortError");var n=new Error(null!==(e=null==t?void 0:t.reason)&&void 0!==e?e:"The operation was aborted.");return n.name="AbortError",n}function it(t,e){return st.apply(this,arguments)}function st(){return(st=r(t().mark((function e(r,n){var o;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.signal,t.abrupt("return",new Promise((function(t,e){if(o){if(o.aborted)return void e(ot(o));o.addEventListener("abort",n,{once:!0})}function n(){e(ot(o)),clearTimeout(i)}var i=setTimeout((function(){null==o||o.removeEventListener("abort",n),t()}),r)})));case 2:case"end":return t.stop()}}),e)})))).apply(this,arguments)}var at=function(){function e(t){var r,n,i,s=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(v(this,e),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"abortController",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_retryCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._input=t,this._options=o(o({credentials:this._input.credentials||"same-origin"},a),{},{headers:B(this._input.headers,a.headers),hooks:K({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},a.hooks),method:X(null!==(r=a.method)&&void 0!==r?r:this._input.method),prefixUrl:String(a.prefixUrl||""),retry:tt(a.retry),throwHttpErrors:!1!==a.throwHttpErrors,timeout:void 0===a.timeout?1e4:a.timeout,fetch:null!==(n=a.fetch)&&void 0!==n?n:globalThis.fetch.bind(globalThis)}),"string"!=typeof this._input&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&"string"==typeof this._input){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(V){if(this.abortController=new globalThis.AbortController,this._options.signal){var u=this._options.signal;this._options.signal.addEventListener("abort",(function(){s.abortController.abort(u.reason)}))}this._options.signal=this.abortController.signal}if(G&&(this._options.duplex="half"),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){var p="?"+("string"==typeof this._options.searchParams?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString()),c=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,p);!(J&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)||this._options.headers&&this._options.headers["content-type"]||this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(c,o({},this.request)),this._options)}void 0!==this._options.json&&(this._options.body=JSON.stringify(this._options.json),this.request.headers.set("content-type",null!==(i=this._options.headers.get("content-type"))&&void 0!==i?i:"application/json"),this.request=new globalThis.Request(this.request,{body:this._options.body}))}var n,i;return f(e,[{key:"_calculateRetryDelay",value:function(t){if(this._retryCount++,this._retryCount<this._options.retry.limit&&!(t instanceof F)){if(t instanceof q){if(!this._options.retry.statusCodes.includes(t.response.status))return 0;var e=t.response.headers.get("Retry-After");if(e&&this._options.retry.afterStatusCodes.includes(t.response.status)){var r=Number(e);return Number.isNaN(r)?r=Date.parse(e)-Date.now():r*=1e3,void 0!==this._options.retry.maxRetryAfter&&r>this._options.retry.maxRetryAfter?0:r}if(413===t.response.status)return 0}return Math.min(this._options.retry.backoffLimit,.3*Math.pow(2,this._retryCount-1)*1e3)}return 0}},{key:"_decorateResponse",value:function(e){var n=this;return this._options.parseJson&&(e.json=r(t().mark((function r(){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=n._options,t.next=3,e.text();case 3:return t.t1=t.sent,t.abrupt("return",t.t0.parseJson.call(t.t0,t.t1));case 5:case"end":return t.stop()}}),r)})))),e}},{key:"_retry",value:(i=r(t().mark((function e(r){var n,o,i,s;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r();case 3:return t.abrupt("return",t.sent);case 6:if(t.prev=6,t.t0=t.catch(0),!(0!==(n=Math.min(this._calculateRetryDelay(t.t0),W))&&this._retryCount>0)){t.next=33;break}return t.next=12,it(n,{signal:this._options.signal});case 12:o=u(this._options.hooks.beforeRetry),t.prev=13,o.s();case 15:if((i=o.n()).done){t.next=24;break}return s=i.value,t.next=19,s({request:this.request,options:this._options,error:t.t0,retryCount:this._retryCount});case 19:if(t.sent!==z){t.next=22;break}return t.abrupt("return");case 22:t.next=15;break;case 24:t.next=29;break;case 26:t.prev=26,t.t1=t.catch(13),o.e(t.t1);case 29:return t.prev=29,o.f(),t.finish(29);case 32:return t.abrupt("return",this._retry(r));case 33:throw t.t0;case 34:case"end":return t.stop()}}),e,this,[[0,6],[13,26,29,32]])}))),function(t){return i.apply(this,arguments)})},{key:"_fetch",value:(n=r(t().mark((function e(){var r,n,o,i;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=u(this._options.hooks.beforeRequest),t.prev=1,r.s();case 3:if((n=r.n()).done){t.next=15;break}return o=n.value,t.next=7,o(this.request,this._options);case 7:if(!((i=t.sent)instanceof Request)){t.next=11;break}return this.request=i,t.abrupt("break",15);case 11:if(!(i instanceof Response)){t.next=13;break}return t.abrupt("return",i);case 13:t.next=3;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(1),r.e(t.t0);case 20:return t.prev=20,r.f(),t.finish(20);case 23:if(!1!==this._options.timeout){t.next=25;break}return t.abrupt("return",this._options.fetch(this.request.clone()));case 25:return t.abrupt("return",et(this.request.clone(),this.abortController,this._options));case 26:case"end":return t.stop()}}),e,this,[[1,17,20,23]])}))),function(){return n.apply(this,arguments)})},{key:"_stream",value:function(e,n){var o=Number(e.headers.get("content-length"))||0,i=0;return 204===e.status?(n&&n({percent:1,totalBytes:o,transferredBytes:i},new Uint8Array),new globalThis.Response(null,{status:e.status,statusText:e.statusText,headers:e.headers})):new globalThis.Response(new globalThis.ReadableStream({start:function(s){return r(t().mark((function a(){var u,p,c;return t().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=function(){return(c=r(t().mark((function e(){var r,a,c;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.read();case 2:if(r=t.sent,a=r.done,c=r.value,!a){t.next=8;break}return s.close(),t.abrupt("return");case 8:return n&&(i+=c.byteLength,n({percent:0===o?0:i/o,transferredBytes:i,totalBytes:o},c)),s.enqueue(c),t.next=12,p();case 12:case"end":return t.stop()}}),e)})))).apply(this,arguments)},p=function(){return c.apply(this,arguments)},u=e.body.getReader(),n&&n({percent:0,transferredBytes:0,totalBytes:o},new Uint8Array),a.next=6,p();case 6:case"end":return a.stop()}}),a)})))()}}),{status:e.status,statusText:e.statusText,headers:e.headers})}}],[{key:"create",value:function(n,o){for(var i=new e(n,o),s=function(){var e=r(t().mark((function e(){var r,n,o,s,a,p,c,h,f;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i._options.timeout>W)){t.next=2;break}throw new RangeError("The `timeout` option cannot be greater than ".concat(W));case 2:return t.next=4,Promise.resolve();case 4:return t.next=6,i._fetch();case 6:r=t.sent,n=u(i._options.hooks.afterResponse),t.prev=8,n.s();case 10:if((o=n.n()).done){t.next=18;break}return s=o.value,t.next=14,s(i.request,i._options,i._decorateResponse(r.clone()));case 14:(a=t.sent)instanceof globalThis.Response&&(r=a);case 16:t.next=10;break;case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(8),n.e(t.t0);case 23:return t.prev=23,n.f(),t.finish(23);case 26:if(i._decorateResponse(r),r.ok||!i._options.throwHttpErrors){t.next=48;break}p=new q(r,i.request,i._options),c=u(i._options.hooks.beforeError),t.prev=30,c.s();case 32:if((h=c.n()).done){t.next=39;break}return f=h.value,t.next=36,f(p);case 36:p=t.sent;case 37:t.next=32;break;case 39:t.next=44;break;case 41:t.prev=41,t.t1=t.catch(30),c.e(t.t1);case 44:return t.prev=44,c.f(),t.finish(44);case 47:throw p;case 48:if(!i._options.onDownloadProgress){t.next=54;break}if("function"==typeof i._options.onDownloadProgress){t.next=51;break}throw new TypeError("The `onDownloadProgress` option must be a function");case 51:if(H){t.next=53;break}throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");case 53:return t.abrupt("return",i._stream(r.clone(),i._options.onDownloadProgress));case 54:return t.abrupt("return",r);case 55:case"end":return t.stop()}}),e,null,[[8,20,23,26],[30,41,44,47]])})));return function(){return e.apply(this,arguments)}}(),p=i._options.retry.methods.includes(i.request.method.toLowerCase())?i._retry(s):s(),c=function(){var e=a(f[h],2),n=e[0],s=e[1];p[n]=r(t().mark((function e(){var r,a,u;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.request.headers.set("accept",i.request.headers.get("accept")||s),t.next=3,p;case 3:if(r=t.sent,a=r.clone(),"json"!==n){t.next=20;break}if(204!==a.status){t.next=8;break}return t.abrupt("return","");case 8:return t.next=10,a.clone().arrayBuffer();case 10:if(u=t.sent,0!==u.byteLength){t.next=14;break}return t.abrupt("return","");case 14:if(!o.parseJson){t.next=20;break}return t.t0=o,t.next=18,a.text();case 18:return t.t1=t.sent,t.abrupt("return",t.t0.parseJson.call(t.t0,t.t1));case 20:return t.abrupt("return",a[n]());case 21:case"end":return t.stop()}}),e)})))},h=0,f=Object.entries(Y);h<f.length;h++)c();return p}}]),e}(),ut=function t(e){for(var r=function(t,r){return at.create(t,D(e,r))},n=function(){var t=i[o];r[t]=function(r,n){return at.create(r,D(e,n,{method:t}))}},o=0,i=$;o<i.length;o++)n();return r.create=function(e){return t(D(e))},r.extend=function(r){return t(D(e,r))},r.stop=z,r}(),pt=e("k",ut),ct=Object.freeze(Object.defineProperty({__proto__:null,HTTPError:q,TimeoutError:F,default:pt},Symbol.toStringTag,{value:"Module"}));/*! MIT License Â© Sindre Sorhus */e("d",ct);var ht="INUMBER",ft="IOP1",lt="IOP2",vt="IOP3",yt="IVAR",dt="IVARNAME",bt="IFUNCALL",mt="IFUNDEF",gt="IEXPR",wt="IEXPREVAL",xt="IMEMBER",kt="IENDSTATEMENT",Et="IARRAY";function _t(t,e){this.type=t,this.value=null!=e?e:0}function Ot(t){return new _t(ft,t)}function Tt(t){return new _t(lt,t)}function At(t){return new _t(vt,t)}function Mt(t,e,r,n,o){for(var i,s,a,u,p=[],c=[],h=0;h<t.length;h++){var f=t[h],l=f.type;if(l===ht||l===dt)Array.isArray(f.value)?p.push.apply(p,Mt(f.value.map((function(t){return new _t(ht,t)})).concat(new _t(Et,f.value.length)),e,r,n,o)):p.push(f);else if(l===yt&&o.hasOwnProperty(f.value))f=new _t(ht,o[f.value]),p.push(f);else if(l===lt&&p.length>1)s=p.pop(),i=p.pop(),u=r[f.value],f=new _t(ht,u(i.value,s.value)),p.push(f);else if(l===vt&&p.length>2)a=p.pop(),s=p.pop(),i=p.pop(),"?"===f.value?p.push(i.value?s.value:a.value):(u=n[f.value],f=new _t(ht,u(i.value,s.value,a.value)),p.push(f));else if(l===ft&&p.length>0)i=p.pop(),u=e[f.value],f=new _t(ht,u(i.value)),p.push(f);else if(l===gt){for(;p.length>0;)c.push(p.shift());c.push(new _t(gt,Mt(f.value,e,r,n,o)))}else if(l===xt&&p.length>0)i=p.pop(),p.push(new _t(ht,i.value[f.value]));else{for(;p.length>0;)c.push(p.shift());c.push(f)}}for(;p.length>0;)c.push(p.shift());return c}function jt(t,e,r){for(var n=[],o=0;o<t.length;o++){var i=t[o],s=i.type;if(s===yt&&i.value===e)for(var a=0;a<r.tokens.length;a++){var u,p=r.tokens[a];u=p.type===ft?Ot(p.value):p.type===lt?Tt(p.value):p.type===vt?At(p.value):new _t(p.type,p.value),n.push(u)}else s===gt?n.push(new _t(gt,jt(i.value,e,r))):n.push(i)}return n}function Lt(t,e,r){var n,o,i,s,a,u,p=[];if(Ct(t))return St(t,r);for(var c=t.length,h=0;h<c;h++){var f=t[h],l=f.type;if(l===ht||l===dt)p.push(f.value);else if(l===lt)o=p.pop(),n=p.pop(),"and"===f.value?p.push(!!n&&!!Lt(o,e,r)):"or"===f.value?p.push(!!n||!!Lt(o,e,r)):"="===f.value?(s=e.binaryOps[f.value],p.push(s(n,Lt(o,e,r),r))):(s=e.binaryOps[f.value],p.push(s(St(n,r),St(o,r))));else if(l===vt)i=p.pop(),o=p.pop(),n=p.pop(),"?"===f.value?p.push(Lt(n?o:i,e,r)):(s=e.ternaryOps[f.value],p.push(s(St(n,r),St(o,r),St(i,r))));else if(l===yt)if(f.value in e.functions)p.push(e.functions[f.value]);else if(f.value in e.unaryOps&&e.parser.isOperatorEnabled(f.value))p.push(e.unaryOps[f.value]);else{var v=r[f.value];if(void 0===v)throw new Error("undefined variable: "+f.value);p.push(v)}else if(l===ft)n=p.pop(),s=e.unaryOps[f.value],p.push(s(St(n,r)));else if(l===bt){for(u=f.value,a=[];u-- >0;)a.unshift(St(p.pop(),r));if(!(s=p.pop()).apply||!s.call)throw new Error(s+" is not a function");p.push(s.apply(void 0,a))}else if(l===mt)p.push(function(){for(var t=p.pop(),n=[],o=f.value;o-- >0;)n.unshift(p.pop());var i=p.pop(),s=function(){for(var o=Object.assign({},r),i=0,s=n.length;i<s;i++)o[n[i]]=arguments[i];return Lt(t,e,o)};return Object.defineProperty(s,"name",{value:i,writable:!1}),r[i]=s,s}());else if(l===gt)p.push(Pt(f,e));else if(l===wt)p.push(f);else if(l===xt)n=p.pop(),p.push(n[f.value]);else if(l===kt)p.pop();else{if(l!==Et)throw new Error("invalid Expression");for(u=f.value,a=[];u-- >0;)a.unshift(p.pop());p.push(a)}}if(p.length>1)throw new Error("invalid Expression (parity)");return 0===p[0]?0:St(p[0],r)}function Pt(t,e,r){return Ct(t)?t:{type:wt,value:function(r){return Lt(t.value,e,r)}}}function Ct(t){return t&&t.type===wt}function St(t,e){return Ct(t)?t.value(e):t}function Rt(t,e){for(var r,n,o,i,s,a,u=[],p=0;p<t.length;p++){var c=t[p],h=c.type;if(h===ht)"number"==typeof c.value&&c.value<0?u.push("("+c.value+")"):Array.isArray(c.value)?u.push("["+c.value.map(Nt).join(", ")+"]"):u.push(Nt(c.value));else if(h===lt)n=u.pop(),r=u.pop(),i=c.value,e?"^"===i?u.push("Math.pow("+r+", "+n+")"):"and"===i?u.push("(!!"+r+" && !!"+n+")"):"or"===i?u.push("(!!"+r+" || !!"+n+")"):"||"===i?u.push("(function(a,b){ return Array.isArray(a) && Array.isArray(b) ? a.concat(b) : String(a) + String(b); }(("+r+"),("+n+")))"):"=="===i?u.push("("+r+" === "+n+")"):"!="===i?u.push("("+r+" !== "+n+")"):"["===i?u.push(r+"[("+n+") | 0]"):u.push("("+r+" "+i+" "+n+")"):"["===i?u.push(r+"["+n+"]"):u.push("("+r+" "+i+" "+n+")");else if(h===vt){if(o=u.pop(),n=u.pop(),r=u.pop(),"?"!==(i=c.value))throw new Error("invalid Expression");u.push("("+r+" ? "+n+" : "+o+")")}else if(h===yt||h===dt)u.push(c.value);else if(h===ft)r=u.pop(),"-"===(i=c.value)||"+"===i?u.push("("+i+r+")"):e?"not"===i?u.push("(!"+r+")"):"!"===i?u.push("fac("+r+")"):u.push(i+"("+r+")"):"!"===i?u.push("("+r+"!)"):u.push("("+i+" "+r+")");else if(h===bt){for(a=c.value,s=[];a-- >0;)s.unshift(u.pop());i=u.pop(),u.push(i+"("+s.join(", ")+")")}else if(h===mt){for(n=u.pop(),a=c.value,s=[];a-- >0;)s.unshift(u.pop());r=u.pop(),e?u.push("("+r+" = function("+s.join(", ")+") { return "+n+" })"):u.push("("+r+"("+s.join(", ")+") = "+n+")")}else if(h===xt)r=u.pop(),u.push(r+"."+c.value);else if(h===Et){for(a=c.value,s=[];a-- >0;)s.unshift(u.pop());u.push("["+s.join(", ")+"]")}else if(h===gt)u.push("("+Rt(c.value,e)+")");else if(h!==kt)throw new Error("invalid Expression")}return u.length>1&&(u=e?[u.join(",")]:[u.join(";")]),String(u[0])}function Nt(t){return"string"==typeof t?JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029"):t}function It(t,e){for(var r=0;r<t.length;r++)if(t[r]===e)return!0;return!1}function qt(t,e,r){for(var n=!!(r=r||{}).withMembers,o=null,i=0;i<t.length;i++){var s=t[i];s.type===yt||s.type===dt?n||It(e,s.value)?null!==o?(It(e,o)||e.push(o),o=s.value):o=s.value:e.push(s.value):s.type===xt&&n&&null!==o?o+="."+s.value:s.type===gt?qt(s.value,e,r):null!==o&&(It(e,o)||e.push(o),o=null)}null===o||It(e,o)||e.push(o)}function Ft(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}_t.prototype.toString=function(){switch(this.type){case ht:case ft:case lt:case vt:case yt:case dt:case kt:return this.value;case bt:return"CALL "+this.value;case mt:return"DEF "+this.value;case Et:return"ARRAY "+this.value;case xt:return"."+this.value;default:return"Invalid Instruction"}},Ft.prototype.simplify=function(t){return t=t||{},new Ft(Mt(this.tokens,this.unaryOps,this.binaryOps,this.ternaryOps,t),this.parser)},Ft.prototype.substitute=function(t,e){return e instanceof Ft||(e=this.parser.parse(String(e))),new Ft(jt(this.tokens,t,e),this.parser)},Ft.prototype.evaluate=function(t){return t=t||{},Lt(this.tokens,this,t)},Ft.prototype.toString=function(){return Rt(this.tokens,!1)},Ft.prototype.symbols=function(t){t=t||{};var e=[];return qt(this.tokens,e,t),e},Ft.prototype.variables=function(t){t=t||{};var e=[];qt(this.tokens,e,t);var r=this.functions;return e.filter((function(t){return!(t in r)}))},Ft.prototype.toJSFunction=function(t,e){var r=this,n=new Function(t,"with(this.functions) with (this.ternaryOps) with (this.binaryOps) with (this.unaryOps) { return "+Rt(this.simplify(e).tokens,!0)+"; }");return function(){return n.apply(r,arguments)}};var Ut="TEOF",Dt="TOP",Bt="TNUMBER",Kt="TSTRING",Gt="TPAREN",Vt="TBRACKET",Ht="TCOMMA",Jt="TNAME",$t="TSEMICOLON";function Yt(t,e,r){this.type=t,this.value=e,this.index=r}function Wt(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}Yt.prototype.toString=function(){return this.type+": "+this.value},Wt.prototype.newToken=function(t,e,r){return new Yt(t,e,null!=r?r:this.pos)},Wt.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},Wt.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},Wt.prototype.next=function(){return this.pos>=this.expression.length?this.newToken(Ut,"EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},Wt.prototype.isString=function(){var t=!1,e=this.pos,r=this.expression.charAt(e);if("'"===r||'"'===r)for(var n=this.expression.indexOf(r,e+1);n>=0&&this.pos<this.expression.length;){if(this.pos=n+1,"\\"!==this.expression.charAt(n-1)){var o=this.expression.substring(e+1,n);this.current=this.newToken(Kt,this.unescape(o),e),t=!0;break}n=this.expression.indexOf(r,n+1)}return t},Wt.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return("("===t||")"===t)&&(this.current=this.newToken(Gt,t),this.pos++,!0)},Wt.prototype.isBracket=function(){var t=this.expression.charAt(this.pos);return!("["!==t&&"]"!==t||!this.isOperatorEnabled("["))&&(this.current=this.newToken(Vt,t),this.pos++,!0)},Wt.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(Ht,","),this.pos++,!0)},Wt.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken($t,";"),this.pos++,!0)},Wt.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()&&(e===this.pos||"_"!==r&&"."!==r&&(r<"0"||r>"9")))break}if(e>t){var n=this.expression.substring(t,e);if(n in this.consts)return this.current=this.newToken(Bt,this.consts[n]),this.pos+=n.length,!0}return!1},Wt.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()&&(e===this.pos||"_"!==r&&(r<"0"||r>"9")))break}if(e>t){var n=this.expression.substring(t,e);if(this.isOperatorEnabled(n)&&(n in this.binaryOps||n in this.unaryOps||n in this.ternaryOps))return this.current=this.newToken(Dt,n),this.pos+=n.length,!0}return!1},Wt.prototype.isName=function(){for(var t=this.pos,e=t,r=!1;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()){if(e===this.pos&&("$"===n||"_"===n)){"_"===n&&(r=!0);continue}if(e===this.pos||!r||"_"!==n&&(n<"0"||n>"9"))break}else r=!0}if(r){var o=this.expression.substring(t,e);return this.current=this.newToken(Jt,o),this.pos+=o.length,!0}return!1},Wt.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);!(" "!==e&&"\t"!==e&&"\n"!==e&&"\r"!==e||(t=!0,this.pos++,this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var zt=/^[0-9a-f]{4}$/i;function Xt(t,e,r){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==r.allowMemberAccess}Wt.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var r=t.substring(0,e);e>=0;){var n=t.charAt(++e);switch(n){case"'":r+="'";break;case'"':r+='"';break;case"\\":r+="\\";break;case"/":r+="/";break;case"b":r+="\b";break;case"f":r+="\f";break;case"n":r+="\n";break;case"r":r+="\r";break;case"t":r+="\t";break;case"u":var o=t.substring(e+1,e+5);zt.test(o)||this.parseError("Illegal escape sequence: \\u"+o),r+=String.fromCharCode(parseInt(o,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+n+'"')}++e;var i=t.indexOf("\\",e);r+=t.substring(e,i<0?t.length:i),e=i}return r},Wt.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},Wt.prototype.isRadixInteger=function(){var t,e,r=this.pos;if(r>=this.expression.length-2||"0"!==this.expression.charAt(r))return!1;if(++r,"x"===this.expression.charAt(r))t=16,e=/^[0-9a-f]$/i,++r;else{if("b"!==this.expression.charAt(r))return!1;t=2,e=/^[01]$/i,++r}for(var n=!1,o=r;r<this.expression.length;){var i=this.expression.charAt(r);if(!e.test(i))break;r++,n=!0}return n&&(this.current=this.newToken(Bt,parseInt(this.expression.substring(o,r),t)),this.pos=r),n},Wt.prototype.isNumber=function(){for(var t,e=!1,r=this.pos,n=r,o=r,i=!1,s=!1;r<this.expression.length&&((t=this.expression.charAt(r))>="0"&&t<="9"||!i&&"."===t);)"."===t?i=!0:s=!0,r++,e=s;if(e&&(o=r),"e"===t||"E"===t){r++;for(var a=!0,u=!1;r<this.expression.length;){if(t=this.expression.charAt(r),!a||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;u=!0,a=!1}else a=!1;r++}u||(r=o)}return e?(this.current=this.newToken(Bt,parseFloat(this.expression.substring(n,r))),this.pos=r):this.pos=o,e},Wt.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if("+"===e||"-"===e||"*"===e||"/"===e||"%"===e||"^"===e||"?"===e||":"===e||"."===e)this.current=this.newToken(Dt,e);else if("â"===e||"â¢"===e)this.current=this.newToken(Dt,"*");else if(">"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Dt,">="),this.pos++):this.current=this.newToken(Dt,">");else if("<"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Dt,"<="),this.pos++):this.current=this.newToken(Dt,"<");else if("|"===e){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(Dt,"||"),this.pos++}else if("="===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Dt,"=="),this.pos++):this.current=this.newToken(Dt,e);else{if("!"!==e)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Dt,"!="),this.pos++):this.current=this.newToken(Dt,e)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},Wt.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},Wt.prototype.getCoordinates=function(){var t,e=0,r=-1;do{e++,t=this.pos-r,r=this.expression.indexOf("\n",r+1)}while(r>=0&&r<this.pos);return{line:e,column:t}},Wt.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)},Xt.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},Xt.prototype.tokenMatches=function(t,e){return void 0===e||(Array.isArray(e)?It(e,t.value):"function"==typeof e?e(t):t.value===e)},Xt.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},Xt.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},Xt.prototype.accept=function(t,e){return!(this.nextToken.type!==t||!this.tokenMatches(this.nextToken,e))&&(this.next(),!0)},Xt.prototype.expect=function(t,e){if(!this.accept(t,e)){var r=this.tokens.getCoordinates();throw new Error("parse error ["+r.line+":"+r.column+"]: Expected "+(e||t))}},Xt.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;if(this.accept(Jt)||this.accept(Dt,(function(t){return t.value in e})))t.push(new _t(yt,this.current.value));else if(this.accept(Bt))t.push(new _t(ht,this.current.value));else if(this.accept(Kt))t.push(new _t(ht,this.current.value));else if(this.accept(Gt,"("))this.parseExpression(t),this.expect(Gt,")");else{if(!this.accept(Vt,"["))throw new Error("unexpected "+this.nextToken);if(this.accept(Vt,"]"))t.push(new _t(Et,0));else{var r=this.parseArrayList(t);t.push(new _t(Et,r))}}},Xt.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),this.parseUntilEndStatement(t,e)||this.pushExpression(t,e))},Xt.prototype.pushExpression=function(t,e){for(var r=0,n=e.length;r<n;r++)t.push(e[r])},Xt.prototype.parseUntilEndStatement=function(t,e){return!!this.accept($t)&&(!this.nextToken||this.nextToken.type===Ut||this.nextToken.type===Gt&&")"===this.nextToken.value||e.push(new _t(kt)),this.nextToken.type!==Ut&&this.parseExpression(e),t.push(new _t(gt,e)),!0)},Xt.prototype.parseArrayList=function(t){for(var e=0;!this.accept(Vt,"]");)for(this.parseExpression(t),++e;this.accept(Ht);)this.parseExpression(t),++e;return e},Xt.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(Dt,"=");){var e=t.pop(),r=[],n=t.length-1;if(e.type!==bt){if(e.type!==yt&&e.type!==xt)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(r),t.push(new _t(dt,e.value)),t.push(new _t(gt,r)),t.push(Tt("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var o=0,i=e.value+1;o<i;o++){var s=n-o;t[s].type===yt&&(t[s]=new _t(dt,t[s].value))}this.parseVariableAssignmentExpression(r),t.push(new _t(gt,r)),t.push(new _t(mt,e.value))}}},Xt.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(Dt,"?");){var e=[],r=[];this.parseConditionalExpression(e),this.expect(Dt,":"),this.parseConditionalExpression(r),t.push(new _t(gt,e)),t.push(new _t(gt,r)),t.push(At("?"))}},Xt.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(Dt,"or");){var e=[];this.parseAndExpression(e),t.push(new _t(gt,e)),t.push(Tt("or"))}},Xt.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(Dt,"and");){var e=[];this.parseComparison(e),t.push(new _t(gt,e)),t.push(Tt("and"))}};var Qt=["==","!=","<","<=",">=",">","in"];Xt.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(Dt,Qt);){var e=this.current;this.parseAddSub(t),t.push(Tt(e.value))}};var Zt=["+","-","||"];Xt.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(Dt,Zt);){var e=this.current;this.parseTerm(t),t.push(Tt(e.value))}};var te=["*","/","%"];function ee(t,e){return Number(t)+Number(e)}function re(t,e){return t-e}function ne(t,e){return t*e}function oe(t,e){return t/e}function ie(t,e){return t%e}function se(t,e){return Array.isArray(t)&&Array.isArray(e)?t.concat(e):""+t+e}function ae(t,e){return t===e}function ue(t,e){return t!==e}function pe(t,e){return t>e}function ce(t,e){return t<e}function he(t,e){return t>=e}function fe(t,e){return t<=e}function le(t,e){return Boolean(t&&e)}function ve(t,e){return Boolean(t||e)}function ye(t,e){return It(e,t)}function de(t){return(Math.exp(t)-Math.exp(-t))/2}function be(t){return(Math.exp(t)+Math.exp(-t))/2}function me(t){return t===1/0?1:t===-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}function ge(t){return t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))}function we(t){return Math.log(t+Math.sqrt(t*t-1))}function xe(t){return Math.log((1+t)/(1-t))/2}function ke(t){return Math.log(t)*Math.LOG10E}function Ee(t){return-t}function _e(t){return!t}function Oe(t){return t<0?Math.ceil(t):Math.floor(t)}function Te(t){return Math.random()*(t||1)}function Ae(t){return Le(t+1)}Xt.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(Dt,te);){var e=this.current;this.parseFactor(t),t.push(Tt(e.value))}},Xt.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;if(this.save(),this.accept(Dt,(function(t){return t.value in e}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===Gt&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(t);if(this.nextToken.type===$t||this.nextToken.type===Ht||this.nextToken.type===Ut||this.nextToken.type===Gt&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var r=this.current;this.parseFactor(t),t.push(Ot(r.value))}else this.parseExponential(t)},Xt.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(Dt,"^");)this.parseFactor(t),t.push(Tt("^"))},Xt.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(Dt,"!");)t.push(Ot("!"))},Xt.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;if(this.accept(Dt,(function(t){return t.value in e}))){var r=this.current;this.parseAtom(t),t.push(Ot(r.value))}else for(this.parseMemberExpression(t);this.accept(Gt,"(");)if(this.accept(Gt,")"))t.push(new _t(bt,0));else{var n=this.parseArgumentList(t);t.push(new _t(bt,n))}},Xt.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(Gt,")");)for(this.parseExpression(t),++e;this.accept(Ht);)this.parseExpression(t),++e;return e},Xt.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(Dt,".")||this.accept(Vt,"[");){var e=this.current;if("."===e.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');this.expect(Jt),t.push(new _t(xt,this.current.value))}else{if("["!==e.value)throw new Error("unexpected symbol: "+e.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect(Vt,"]"),t.push(Tt("["))}}};var Me=4.7421875,je=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function Le(t){var e,r;if(function(t){return isFinite(t)&&t===Math.round(t)}(t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(var n=t-2,o=t-1;n>1;)o*=n,n--;return 0===o&&(o=1),o}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*Le(1-t));if(t>=171.35)return 1/0;if(t>85){var i=t*t,s=i*t,a=s*t,u=a*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*i)-139/(51840*s)-571/(2488320*a)+163879/(209018880*u)+5246819/(75246796800*u*t))}--t,r=je[0];for(var p=1;p<je.length;++p)r+=je[p]/(t+p);return e=t+Me+.5,Math.sqrt(2*Math.PI)*Math.pow(e,t+.5)*Math.exp(-e)*r}function Pe(t){return Array.isArray(t)?t.length:String(t).length}function Ce(){for(var t=0,e=0,r=0;r<arguments.length;r++){var n,o=Math.abs(arguments[r]);e<o?(t=t*(n=e/o)*n+1,e=o):t+=o>0?(n=o/e)*n:o}return e===1/0?1/0:e*Math.sqrt(t)}function Se(t,e,r){return t?e:r}function Re(t,e){return void 0===e||0==+e?Math.round(t):(t=+t,e=-+e,isNaN(t)||"number"!=typeof e||e%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+e:e))))}function Ne(t,e,r){return r&&(r[t]=e),e}function Ie(t,e){return t[0|e]}function qe(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)}function Fe(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)}function Ue(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(e,r){return t(e,r)}))}function De(t,e,r){if("function"!=typeof t)throw new Error("First argument to fold is not a function");if(!Array.isArray(r))throw new Error("Second argument to fold is not an array");return r.reduce((function(e,r,n){return t(e,r,n)}),e)}function Be(t,e){if("function"!=typeof t)throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter((function(e,r){return t(e,r)}))}function Ke(t,e){if(!Array.isArray(e)&&"string"!=typeof e)throw new Error("Second argument to indexOf is not a string or array");return e.indexOf(t)}function Ge(t,e){if(!Array.isArray(e))throw new Error("Second argument to join is not an array");return e.join(t)}function Ve(t){return(t>0)-(t<0)||+t}var He=1/3;function Je(t){return t<0?-Math.pow(-t,He):Math.pow(t,He)}function $e(t){return Math.exp(t)-1}function Ye(t){return Math.log(1+t)}function We(t){return Math.log(t)/Math.LN2}function ze(t){this.options=t||{},this.unaryOps={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:Math.sinh||de,cosh:Math.cosh||be,tanh:Math.tanh||me,asinh:Math.asinh||ge,acosh:Math.acosh||we,atanh:Math.atanh||xe,sqrt:Math.sqrt,cbrt:Math.cbrt||Je,log:Math.log,log2:Math.log2||We,ln:Math.log,lg:Math.log10||ke,log10:Math.log10||ke,expm1:Math.expm1||$e,log1p:Math.log1p||Ye,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:Math.trunc||Oe,"-":Ee,"+":Number,exp:Math.exp,not:_e,length:Pe,"!":Ae,sign:Math.sign||Ve},this.binaryOps={"+":ee,"-":re,"*":ne,"/":oe,"%":ie,"^":Math.pow,"||":se,"==":ae,"!=":ue,">":pe,"<":ce,">=":he,"<=":fe,and:le,or:ve,in:ye,"=":Ne,"[":Ie},this.ternaryOps={"?":Se},this.functions={random:Te,fac:Ae,min:Fe,max:qe,hypot:Math.hypot||Ce,pyt:Math.hypot||Ce,pow:Math.pow,atan2:Math.atan2,if:Se,gamma:Le,roundTo:Re,map:Ue,fold:De,filter:Be,indexOf:Ke,join:Ge},this.consts={E:Math.E,PI:Math.PI,true:!0,false:!1}}ze.prototype.parse=function(t){var e=[],r=new Xt(this,new Wt(this,t),{allowMemberAccess:this.options.allowMemberAccess});return r.parseExpression(e),r.expect(Ut,"EOF"),new Ft(e,this)},ze.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var Xe=new ze;ze.parse=function(t){return Xe.parse(t)},ze.evaluate=function(t,e){return Xe.parse(t).evaluate(e)};var Qe={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",and:"logical",or:"logical",not:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};ze.prototype.isOperatorEnabled=function(t){var e=function(t){return Qe.hasOwnProperty(t)?Qe[t]:t}(t),r=this.options.operators||{};return!(e in r)||!!r[e]};
/*!
       Based on ndef.parser, by Raphael Graf(r@undefined.ch)
       http://www.undefined.ch/mparser/index.html

       Ported to JavaScript and modified by Matthew Crumley (email@matthewcrumley.com, http://silentmatt.com/)

       You are free to use and modify this code in anyway you find useful. Please leave this comment in the code
       to acknowledge its original source. If you feel like it, I enjoy hearing about projects that use my code,
       but don't feel like you have to let me know or ask permission.
      */
var Ze={Parser:ze,Expression:Ft},tr=Object.freeze(Object.defineProperty({__proto__:null,Expression:Ft,Parser:ze,default:Ze},Symbol.toStringTag,{value:"Module"}));e("a",tr)}}}))}();
